{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderMarkup(arr) {\n  return arr\n    .map(item => {\n      return `\n           <li class=\"gallery-item\">\n          <a href=\"${item.largeImageURL}\">\n          <div class=\"image-container\">\n            <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" width=\"360\" height=\"200\"> </div>\n            <ul class=\"photo-dsc\">\n               <li > \n                <p class=\"photo-dsc-title\">Likes</p>\n                <p class=\"photo-dsc-text\">${item.likes}</p>\n              </li>\n               <li > \n                <p class=\"photo-dsc-title\">Views</p>\n                <p class=\"photo-dsc-text\">${item.views}</p>\n              </li>\n               <li > \n                <p class=\"photo-dsc-title\">Comments</p>\n                <p class=\"photo-dsc-text\">${item.comments}</p>\n              </li>\n               <li > \n                <p class=\"photo-dsc-title\">Downloads</p>\n                <p class=\"photo-dsc-text\">${item.downloads}</p>\n              </li>\n            </ul>\n          </a>\n        </li>\n      `;\n    })\n    .join('');\n}\n","import Axios from 'axios';\n\nconst axios = Axios.create({\n  baseURL: 'https://pixabay.com/api/',\n});\n\nexport async function getImages(q) {\n  const res = await axios.get('', {\n    params: {\n      key: '44962724-2fcdbdaf7fb299db2b6841432',\n      q,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    },\n  });\n  return res.data;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { renderMarkup } from './js/render-functions';\nimport { getImages } from './js/pixabay-api';\n\nexport const refs = {\n  formSearchEl: document.querySelector('.form-search'),\n  galleryListEl: document.querySelector('.gallery-list'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.formSearchEl.addEventListener('submit', onFormSearch);\n\nasync function onFormSearch(e) {\n  e.preventDefault();\n\n  let userValue = refs.formSearchEl.elements.search.value.trim();\n\n  if (!userValue) return;\n\n  refs.galleryListEl.innerHTML = '';\n\n  try {\n    refs.loader.classList.remove('loader-hidden');\n    const data = await getImages(userValue);\n    if (data.hits.length === 0) {\n      showErrorNoImageMessage();\n    }\n\n    refs.galleryListEl.innerHTML = renderMarkup(data.hits);\n    gallery.refresh();\n  } catch (error) {\n    showErrorMessage(error);\n  }\n\n  refs.loader.classList.add('loader-hidden');\n  refs.formSearchEl.elements.search.value = '';\n}\n\nfunction showErrorNoImageMessage() {\n  return iziToast.error({\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    backgroundColor: '#ef4040',\n    messageColor: '#fafafb',\n    position: 'topRight',\n    progressBarColor: '#fafafb',\n  });\n}\n\nfunction showErrorMessage(error) {\n  return iziToast.error({\n    message: `Error: ${error.message}`,\n    backgroundColor: '#ef4040',\n    messageColor: '#fafafb',\n    position: 'topRight',\n    progressBarColor: '#fafafb',\n  });\n}\n\nconst gallery = new SimpleLightbox('.gallery-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["renderMarkup","arr","item","axios","Axios","getImages","q","refs","onFormSearch","e","userValue","data","showErrorNoImageMessage","gallery","error","showErrorMessage","iziToast","SimpleLightbox"],"mappings":"owBAAO,SAASA,EAAaC,EAAK,CAChC,OAAOA,EACJ,IAAIC,GACI;AAAA;AAAA,qBAEQA,EAAK,aAAa;AAAA;AAAA,wBAEfA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,4CAIhBA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,4CAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,4CAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,4CAIbA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAMrD,EACA,KAAK,EAAE,CACZ,CC7BA,MAAMC,EAAQC,EAAM,OAAO,CACzB,QAAS,0BACX,CAAC,EAEM,eAAeC,EAAUC,EAAG,CAUjC,OATY,MAAMH,EAAM,IAAI,GAAI,CAC9B,OAAQ,CACN,IAAK,qCACL,EAAAG,EACA,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACL,CAAG,GACU,IACb,CCVO,MAAMC,EAAO,CAClB,aAAc,SAAS,cAAc,cAAc,EACnD,cAAe,SAAS,cAAc,eAAe,EACrD,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,aAAa,iBAAiB,SAAUC,CAAY,EAEzD,eAAeA,EAAaC,EAAG,CAC7BA,EAAE,eAAc,EAEhB,IAAIC,EAAYH,EAAK,aAAa,SAAS,OAAO,MAAM,OAExD,GAAKG,EAEL,CAAAH,EAAK,cAAc,UAAY,GAE/B,GAAI,CACFA,EAAK,OAAO,UAAU,OAAO,eAAe,EAC5C,MAAMI,EAAO,MAAMN,EAAUK,CAAS,EAClCC,EAAK,KAAK,SAAW,GACvBC,IAGFL,EAAK,cAAc,UAAYP,EAAaW,EAAK,IAAI,EACrDE,EAAQ,QAAO,CAChB,OAAQC,EAAO,CACdC,EAAiBD,CAAK,CACvB,CAEDP,EAAK,OAAO,UAAU,IAAI,eAAe,EACzCA,EAAK,aAAa,SAAS,OAAO,MAAQ,GAC5C,CAEA,SAASK,GAA0B,CACjC,OAAOI,EAAS,MAAM,CACpB,QACE,2EACF,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,iBAAkB,SACtB,CAAG,CACH,CAEA,SAASD,EAAiBD,EAAO,CAC/B,OAAOE,EAAS,MAAM,CACpB,QAAS,UAAUF,EAAM,OAAO,GAChC,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,iBAAkB,SACtB,CAAG,CACH,CAEA,MAAMD,EAAU,IAAII,EAAe,kBAAmB,CACpD,aAAc,MACd,aAAc,GAChB,CAAC"}